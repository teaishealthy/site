---
import Layout from "../layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import Project from "../components/Project.astro";
import projects from "../projects.json";
---

<Layout>
  <h1>Projects</h1>
  <script>
    console.log("loaded");
    const hash = window.location.hash;
    document.querySelector(hash).animate(
      [
        { transform: "scale(1.5)", offset: 0 },
        { transform: "scale(1)", offset: 1 },
      ],
      {
        duration: 500,
        easing: "linear",
        fill: "forwards",
      },
    );
  </script>
  {
    projects
      .map((project) => {
        return {
          project: project,
          icons: project.icons.map((icon) => <Icon class="icon" name={icon} />),
        };
      })
      .map((p) => <Project {...p.project}>{p.icons}</Project>)
  }
</Layout>

<style>
  .icon {
    height: 1rem;
    color: var(--text-color);

    margin: 0 0.1rem;
  }
</style>
